<Window x:Class="Kortros.ParamParser.View.SelectCategoryWindow"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Kortros.ParamParser.View"
             xmlns:vm="clr-namespace:Kortros.ParamParser.ViewModel"
             mc:Ignorable="d" 
             Height="450" Width="350"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"

             TextElement.Foreground="{DynamicResource MaterialDesign.Brush.Foreground}"
             Background="{DynamicResource MaterialDesign.Brush.Background}"
             TextElement.FontWeight="Light"
             TextElement.FontSize="13"
             FontFamily="{materialDesign:MaterialDesignFont}"
             Style="{DynamicResource MaterialDesignWindow}"
             WindowStartupLocation="CenterScreen"
             WindowStyle="None">
    <Window.DataContext>
        <local:CategoryName/>
    </Window.DataContext>
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <materialDesign:BundledTheme BaseTheme="Light"
                                             ColorAdjustment="{materialDesign:ColorAdjustment}"
                                             PrimaryColor ="Grey" 
                                             SecondaryColor="Red"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/themes/MaterialDesign3.Defaults.xaml"/>
                <ResourceDictionary>
                    <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignFlatButton}">
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="Padding" Value="4"/>
                        <Setter Property="BorderBrush" Value="LightGray"/>
                        <Setter Property="BorderThickness" Value="1"/>
                        <Setter Property="materialDesign:RippleAssist.IsCentered" Value="True"/>
                        <Setter Property="materialDesign:RippleAssist.ClipToBounds" Value="False"/>
                    </Style>
                </ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Grid.LayoutTransform>
            <ScaleTransform ScaleX="0.8" ScaleY="0.8"/>
        </Grid.LayoutTransform>
        <!-- Создаем область верхнего бара -->
        <Grid VerticalAlignment="Top" 
              Background="{DynamicResource PrimaryHueMidBrush}" 
              Height="30"
              MouseDown="TitleBar_MouseDown">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <!-- Лого -->
            <Image Source="pack://application:,,,/Kortros.ParamParser;component/Icons/logo.png" Width="30" Height="30" Margin="0"
            />
            <!-- Название программы -->
            <TextBlock Text="Parser" VerticalAlignment="Center" FontSize="16" FontWeight="Bold" Grid.Column="1" Margin="10,0,0,0"/>
        </Grid>
        <DockPanel Margin="0,40,0,0">
            <Label DockPanel.Dock="Top"
                   Content="Выберите необходимую категорию"
                   HorizontalAlignment="Center"
                   FontWeight="Medium"
                   FontSize="14"/>
            <Button DockPanel.Dock="Bottom"
                    VerticalAlignment="Bottom"
                    Margin="10"
                    Height="25"
                    Width="120"
                    Content="Отмена"
                    Click="CancelBtn_Click"/>
            <ListView DockPanel.Dock="Top"
                      x:Name="BinCat"                
                      SelectionChanged="BinCat_SelectionChanged">
                <ListView.ItemContainerStyle>
                    <Style TargetType="ListViewItem">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsDisabled}" Value="True">
                                <Setter Property="Foreground" Value="Gray"/>
                                <Setter Property="IsEnabled" Value="False"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </ListView.ItemContainerStyle>
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding CatItemName}"
                                   Margin="0,3"
                                   Height="15"
                                   VerticalAlignment="Center"/>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </DockPanel>
    </Grid>
</Window>
